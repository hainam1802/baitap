// var HotelId, HotelName, SearchType, Url, Count, recents = [],
//     query = window.location.href;
//
// function initDatePicker(e, t, a, i, r) {
//     var l = $("#" + e).parents(".t-datepicker");
//     if (!l) return !1;
//     var n = null != readCookie("di") && "" != readCookie("di") ? moment(readCookie("di"), "DD/MM/YYYY") : moment($("#datepicker-menu-chkin").val(), "DD/MM/YYYY"),
//         s = null != readCookie("do") && "" != readCookie("do") ? moment(readCookie("do"), "DD/MM/YYYY") : moment($("#datepicker-menu-chkout").val(), "DD/MM/YYYY"),
//         c = holidaydata.reduce(function(e, t) {
//             return e[t.date] = t.name, e
//         }, {}),
//         u = window.innerWidth;
//     $(l).tDatePicker({
//         dateCheckIn: n,
//         dateCheckOut: s,
//         numCalendar: u >= 768 ? 2 : 1,
//         fnDataEvent: c
//     }).on("clickDateCI", function(e, t) {}).on("clickDateCO", function(e, t) {}).on("selectedCI", function(e, t) {}).on("selectedCO", function(e, t) {}).on("eventClickDay", function(e, t) {
//         var a = t[0];
//         o = t[1], $("#datepicker-temp-chkin").val(moment(new Date(a)).format("DD-MM-YYYY")), $("#datepicker-temp-chkout").val(moment(new Date(o)).format("DD-MM-YYYY")), convertTodateHoliday(moment(new Date(a)).format("YYYY-MM-DD"), "t-check-in"), moment(new Date(o)).isAfter(moment(new Date(a))) && convertTodateHoliday(moment(new Date(o)).format("YYYY-MM-DD"), "t-check-out"), i && i(moment(new Date(a)), moment(new Date(o)))
//     }).on("toggleAfterHideDay", function() {}).on("onChangeCI", function(e, t) {}).on("onChangeCO", function(e, t) {})
// }
// query = query.replace(/^.*\/\/[^\/]+/, "");
// var App = function() {
//     var e = function() {
//             $("#slider-with-blocks").length > 0 && $("#slider-with-blocks").royalSlider({
//                 arrowsNav: !0,
//                 arrowsNavAutoHide: !0,
//                 controlNavEnabled: !1,
//                 fadeinLoadedSlide: !0,
//                 imageScaleMode: "fill",
//                 imageAlignCenter: !0,
//                 autoScaleSlider: !0,
//                 autoScaleSliderWidth: 1440,
//                 autoScaleSliderHeight: 540,
//                 blockLoop: !0,
//                 loop: !0,
//                 numImagesToPreload: 6,
//                 transitionType: "slide",
//                 keyboardNavEnabled: !0,
//                 block: {
//                     delay: 400,
//                     fadeEffect: !1,
//                     moveEffect: "left"
//                 },
//                 autoPlay: {
//                     enabled: !0,
//                     pauseOnHover: !0,
//                     delay: 1e4
//                 }
//             })
//         },
//         t = function() {
//             $(".owl-testimonial").owlCarousel({
//                 navigation: !0,
//                 autoPlay: !0,
//                 singleItem: !0,
//                 navigationText: ['<i class="entypo" aria-hidden="true" data-icon="&#59229;"></i>', '<i class="entypo" aria-hidden="true" data-icon="&#59230;"></i>'],
//                 items: 1
//             })
//         },
//         a = function() {
//             $(".owl-handbook").owlCarousel({
//                 navigation: !0,
//                 autoPlay: !0,
//                 stopOnHover: !0,
//                 navigationText: ['<i class="entypo" aria-hidden="true" data-icon="&#59237;"></i>', '<i class="entypo" aria-hidden="true" data-icon="&#59238;"></i>'],
//                 itemsDesktop: [1199, 4],
//                 itemsDesktopSmall: [979, 3],
//                 itemsTablet: [768, 2],
//                 itemsMobile: [479, 1]
//             })
//         },
//         i = function() {
//             $(".carousel-wrap").owlCarousel({
//                 navigation: !1,
//                 autoPlay: !0,
//                 singleItem: !0,
//                 items: 1
//             })
//         },
//         r = function() {
//             $(".popular-wrap").mCustomScrollbar({
//                 theme: "light-thick",
//                 scrollbarPosition: "outside"
//             })
//         },
//         l = function() {
//             $("#search-home-text").length > 0 && ($("#search-home-text").focusin(function() {
//                 var e = $("#search-home-text").val();
//                 $(".search-suggest").is(":hidden") && 0 === e.length && void 0 != e && null != e && $(".search-suggest").show(), 0 !== e.length && $(".search-suggest").hide()
//             }).keyup(function() {
//                 0 === $(this).val().length ? $(".search-suggest").show() : $(".search-suggest").hide()
//             }), $(window).click(function() {
//                 $("#search-home-text").is(":focus") || $(".search-suggest").hide()
//             }).keydown(function() {
//                 $("#search-home-text").is(":focus") || $(".search-suggest").hide()
//             }))
//         },
//         n = function() {
//             $(".homewhy-item span").click(function() {
//                 var e = $(this).data("whyitem");
//                 null != e && void 0 != e && "" != e && $("#homewhy-item-content-" + e).slideToggle("fast")
//             })
//         };
//     return {
//         init: function() {
//             e(), l(), r(), i(), a(), t(), n()
//         }
//     }
// }();
//
// function addQuery(e) {
//     var t = e.split("=")[0];
//     RegExp("([?&])" + t + "=[^&]*").test(query) && removeQuery(t), query += -1 == query.indexOf("?") ? "?" + e : "&" + e
// }
//
// function removeQuery(e) {
//     var t = RegExp("([?&])" + e + "=[^&]*");
//     query = (query = query.replace(t, function(e) {
//         return "?" == e[0] ? "?" : ""
//     })).replace(/(\?&)|(&$)|(\?$)/, function(e) {
//         return "?&" == e ? "?" : ""
//     })
// }
//
// function getUrlParameter(e) {
//     var t = RegExp("[\\?&]" + (e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]")) + "=([^&#]*)").exec(location.search);
//     return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))
// }
// angular.module("Contracting").controller("homepage.ctrl", ["ListRoomPrice", "$scope", "$sce", "$timeout", "$interval", function(e, t, a, i, r) {
//     var l = null != readCookie("di") && "" != readCookie("di") ? Static.convertDate(readCookie("di")) : Static.convertDate($("#datepicker-menu-chkin").val()),
//         n = null != readCookie("do") && "" != readCookie("do") ? Static.convertDate(readCookie("do")) : Static.convertDate($("#datepicker-menu-chkout").val());
//     t.DateCheckinStr = moment(l).format("DD-MM-YYYY"), t.DateCheckoutStr = moment(n).format("DD-MM-YYYY"), $("#datepicker-temp-chkin").val(""), $("#datepicker-temp-chkout").val(""), convertTodateHoliday(moment(l).format("YYYY-MM-DD"), "t-check-in"), convertTodateHoliday(moment(n).format("YYYY-MM-DD"), "t-check-out");
//     var s = "GetNoCache";
//     t.GetNoCache = LocalStorageManager.getValue(s), null == t.GetNoCache && (t.GetNoCache = !1), t.$watch("GetNoCache", function(e, t) {
//         e != t && LocalStorageManager.setValue(s, e)
//     });
//     var c = new Date(l),
//         u = new Date(n),
//         d = new Date(u - c);
//     t.NumberNights = d / 1e3 / 60 / 60 / 24, initDatePicker("check-in-date-search", "right", !0, function(e, t, a) {}), t.genOptionByNumber = function(e, t, a) {
//         for (var i = [], r = e; r <= t; r++) i.push({
//             label: void 0 != a ? a : r + "",
//             value: r
//         }), a = void 0;
//         return i
//     }, t.UserTypes = {
//         isAgent: !1,
//         isUser: !0,
//         isCtv: !1,
//         isCorp: !1,
//         levelLogin: -1
//     }, t.AdultsConfig = t.genOptionByNumber(1, 30), t.ChildConfig = t.genOptionByNumber(0, 11), t.childAgeFrom = 0, t.childAgeTo = 17, t.RoomConfig = t.genOptionByNumber(1, 9), t.AgeChildConfig = t.genOptionByNumber(0, 17, "< 1"), t.RoomNumber = {
//         label: "1",
//         value: 1
//     }, t.RoomObject = {
//         RoomIndex: 1,
//         Adults: {
//             label: "1",
//             value: 2
//         },
//         Child: {
//             label: "0",
//             value: 0
//         },
//         AgeChilds: []
//     };
//     var m = "datakey";
//     t.saveFilterRoom = function() {
//         m = "datakey", t.AdultsTotalStr = t.FilterRooms.RoomsRequest[0].Adults.value, t.ChildTotalStr = t.FilterRooms.RoomsRequest[0].Child.value, LocalStorageManager.setValue(m, {
//             FilterRooms: t.FilterRooms,
//             RoomNumber: t.RoomNumber,
//             AdultsTotalStr: t.FilterRooms.RoomsRequest[0].Adults.value,
//             ChildTotalStr: t.ChildTotalStr
//         }), createCookie("roomNumber", t.RoomNumber.value, 1), createCookie("adultNumber", t.AdultsTotalStr, 1), createCookie("childNumber", t.ChildTotalStr, 1), $("#datepicker-temp-chkin").val() && ($("#datepicker-menu-chkin").val(moment($("#datepicker-temp-chkin").val(), "DD/MM/YYYY").format("DD-MM-YYYY")), $("#datepicker-menu-chkin").trigger("change"), $("#datepicker-menu-chkout").val(moment($("#datepicker-temp-chkout").val(), "DD/MM/YYYY").format("DD-MM-YYYY")), $("#datepicker-menu-chkout").trigger("change"))
//     };
//     var h = function(e) {
//         t.$watch(function() {
//             return void 0 == t.FilterRooms.RoomsRequest[e] && (e = t.FilterRooms.RoomsRequest.length - 1), t.FilterRooms.RoomsRequest[e].Child.value
//         }, function(a, i) {
//             if (a != i || void 0 != a) {
//                 var r = t.FilterRooms.RoomsRequest[e].AgeChilds.length - a;
//                 if (r > 0) t.FilterRooms.RoomsRequest[e].AgeChilds.splice(a, r);
//                 else
//                     for (var l = 0; l < Math.abs(r); l++) t.FilterRooms.RoomsRequest[e].AgeChilds.push({
//                         label: "7",
//                         value: 7
//                     })
//             }
//         })
//     };
//     addWatchChildRoom = t.$watch(function() {
//         return t.RoomNumber.value
//     }, function(e, t) {
//         e != t && v(e)
//     });
//     var v = function(e) {
//         var a = t.FilterRooms.RoomsRequest.length - e;
//         if (a > 0) t.FilterRooms.RoomsRequest.splice(e, a);
//         else
//             for (var i = 0; i < Math.abs(a); i++) {
//                 var r = {
//                     RoomIndex: t.FilterRooms.RoomsRequest.length + 1,
//                     Adults: {
//                         label: "1",
//                         value: 1
//                     },
//                     Child: {
//                         label: "0",
//                         value: 0
//                     },
//                     AgeChilds: []
//                 };
//                 t.FilterRooms.RoomsRequest.push(r), h(t.FilterRooms.RoomsRequest.length - 1)
//             }(!t.UserTypes.isAgent && e > t.FilterRooms.RoomsRequest[0].Adults.value || t.UserTypes.isAgent && !t.advancedFilter && e > t.FilterRooms.RoomsRequest[0].Adults.value) && (t.FilterRooms.RoomsRequest[0].Adults.value = e)
//     };
//     m = "datakey", t.$storage = LocalStorageManager.getValue(m), void 0 != t.$storage && void 0 != t.$storage.FilterRooms ? void 0 != t.$storage.RoomNumber && (t.FilterRooms = t.$storage.FilterRooms, t.RoomNumber = t.$storage.RoomNumber, t.advancedFilter = t.$storage.advancedFilter, t.AdultsTotalStr = t.$storage.FilterRooms.RoomsRequest[0].Adults.value, t.ChildTotalStr = t.$storage.FilterRooms.RoomsRequest[0].Child.value) : (t.FilterRooms = {
//         HotelID: "",
//         RoomNumber: t.RoomNumber.value,
//         IsLeadingPrice: "",
//         ReferenceClient: "",
//         Supplier: "",
//         CheckInDate: "",
//         CheckOutDate: "",
//         CountryID: "",
//         CityID: "",
//         NationalityID: "",
//         RoomsRequest: []
//     }, t.FilterRooms.RoomsRequest.push(t.RoomObject), t.AdultsTotalStr = t.FilterRooms.RoomsRequest[0].Adults.value, t.ChildTotalStr = t.FilterRooms.RoomsRequest[0].Child.value), h(0), t.SearchHotel = function() {
//         if (t.saveFilterRoom(), t.FilterRooms.CheckInDate = Static.convertDate($("#datepicker-menu-chkin").val()), t.FilterRooms.CheckOutDate = Static.convertDate($("#datepicker-menu-chkout").val()), createCookie("filteraction", "1", 1), void 0 == HotelName) {
//             var e = $("#searchText").val().trim();
//             return $.getJSON("/request/searchautocomplete", {
//                 keyword: e
//             }, function(e) {
//                 var a = !1;
//                 if ($.each(e, function(e, i) {
//                     if ("region" == i.Type && 0 != i.More) return a = !0, window.location.href = i.Path + "?di=" + t.FilterRooms.CheckInDate + "&do=" + t.FilterRooms.CheckOutDate + "&rn=" + t.RoomNumber.value + "&an=" + t.AdultsTotalStr + "&cn=" + t.ChildTotalStr, !1
//                 }), !a) {
//                     if (void 0 != $("#searchText").val()) {
//                         var i = $("#searchText").val().trim();
//                         if (void 0 != i) return addQuery("di=" + t.FilterRooms.CheckInDate), addQuery("do=" + t.FilterRooms.CheckOutDate), addQuery("rn=" + t.RoomNumber.value), addQuery("an=" + t.AdultsTotalStr), addQuery("cn=" + t.ChildTotalStr), window.location.href = query, window.location.href = "/tim-kiem?q=" + i + "&di=" + t.FilterRooms.CheckInDate + "&do=" + t.FilterRooms.CheckOutDate + "&rn=" + t.RoomNumber.value + "&an=" + t.AdultsTotalStr + "&cn=" + t.ChildTotalStr, !1
//                     }
//                     $("#homepage-search-form,#header-search-form").submit()
//                 }
//             }), e || (window.innerWidth <= 768 ? $(".search-fullframe").trigger("click") : $("#searchText").focus()), !1
//         }
//         var a = {
//             Name: HotelName,
//             Link: Url,
//             Checkin: t.FilterRooms.CheckInDate,
//             Checkout: t.FilterRooms.CheckOutDate,
//             CheckinStr: moment(new Date(t.FilterRooms.CheckInDate)).format("DD-MM-YYYY"),
//             CheckoutStr: moment(new Date(t.FilterRooms.CheckOutDate)).format("DD-MM-YYYY"),
//             Room: t.RoomNumber.value,
//             Adult: t.AdultsTotalStr,
//             Children: t.ChildTotalStr
//         };
//         if (recents.length > 10 && recents.splice(-1, 1), -1 == JSON.stringify(recents).indexOf(JSON.stringify(a)) && void 0 != HotelName && recents.unshift(a), 1 == SearchType) return window.location.href = query, !1;
//         addQuery("di=" + t.FilterRooms.CheckInDate), addQuery("do=" + t.FilterRooms.CheckOutDate), addQuery("rn=" + t.RoomNumber.value), addQuery("an=" + t.AdultsTotalStr), addQuery("cn=" + t.ChildTotalStr), window.location.href = query
//     }, t.PlusOrMinusObject = function(e, a, i, r) {
//         switch (e) {
//             case "room":
//                 "-" == a ? t.RoomNumber.value > i && t.RoomNumber.value-- : "+" == a && t.RoomNumber.value < r && t.RoomNumber.value++;
//                 break;
//             case "adult":
//                 "-" == a ? t.FilterRooms.RoomsRequest[0].Adults.value > i && t.FilterRooms.RoomsRequest[0].Adults.value-- : "+" == a && t.FilterRooms.RoomsRequest[0].Adults.value < r && t.FilterRooms.RoomsRequest[0].Adults.value++;
//                 break;
//             case "child":
//                 "-" == a ? t.FilterRooms.RoomsRequest[0].Child.value > i && t.FilterRooms.RoomsRequest[0].Child.value-- : "+" == a && t.FilterRooms.RoomsRequest[0].Child.value < r && t.FilterRooms.RoomsRequest[0].Child.value++
//         }
//     }, t.topSaleCount = 0, e.getTopSale24hByHotel(0).success(function(e) {
//         t.topSaleCount = e.total
//     })
// }]), $(function() {
//     App.init();
//     var e, t, a = {
//             Android: function() {
//                 return navigator.userAgent.match(/Android/i)
//             },
//             BlackBerry: function() {
//                 return navigator.userAgent.match(/BlackBerry/i)
//             },
//             iOS: function() {
//                 return navigator.userAgent.match(/iPhone|iPad|iPod/i)
//             },
//             Opera: function() {
//                 return navigator.userAgent.match(/Opera Mini/i)
//             },
//             Windows: function() {
//                 return navigator.userAgent.match(/IEMobile/i)
//             },
//             Tablet: function() {
//                 return navigator.userAgent.match(/Tablet|iPad|iPod/i) && window.innerWidth <= 1280 && window.innerHeight <= 800
//             },
//             any: function() {
//                 return a.Android() || a.BlackBerry() || a.iOS() || a.Opera() || a.Windows() || 414 >= $(window).width()
//             }
//         },
//         i = readCookie("searchHistory");
//     null != i && (recents = JSON.parse(i));
//     var r = [];
//     $(".search-form .typeahead").typeahead({
//         hint: !1,
//         highlight: !0,
//         minLength: 0
//     }, {
//         displayKey: "Name",
//         name: "recents",
//         source: function(e, t) {},
//         limit: 0,
//         templates: {
//             header: '<div class="col-xs-12 search-header">                    <div class="col-xs-12 no-padding search-header__inner">                        <p class="title">T\xecm kiếm gần đ\xe2y</p>                    </div>                </div>',
//             suggestion: function(e) {
//                 return ""
//             }
//         }
//     }, {
//         displayKey: "Name",
//         name: "hots",
//         source: function(e, t) {
//             publicHelper.isBlank(e) && t(hots)
//         },
//         limit: 12,
//         templates: {
//             header: '<div class="col-xs-12 search-header">                    <div class="col-xs-12 no-padding search-header__inner">                        <p class="title"> Địa điểm đang HOT nhất</p>                    </div>                </div>',
//             footer: '<p style="float: right;padding: 0 10px;background: #ebebeb;margin-right: 10px;border-radius: 5px;color: #27bed6;" class="v-margin-left-5 v-margin-bottom-5 close-popup-autocomplete"><i class="fa fa-angle-double-up"></i></p>',
//             suggestion: function(e) {
//                 return e._query = e._query.trim(), '<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding search-result suggestion ">                            <div class="media">                                <div class="media-left media-middle">                                    <picture>                                        <source media="(max-width: 768px)" srcset="' + e.Image + '" alt="' + e.Name + '">                                        <source media="(max-width: 1200px)" srcset="${data.Image}" alt="' + e.Name + '">                                        <img class="media-object" src="' + e.Image + '">                                    </picture>                                </div>                                <div class="media-body media-middle">                                    <h4 class="media-heading">' + e.Name + '</h4>                                    <span class="search-result__description">' + e.Description + " KS</span>                                </div>                            </div>                        </div>                    </div>"
//             }
//         }
//     }, {
//         displayKey: "Name",
//         name: "locas",
//         limit: "Infinity",
//         source: function(a, i, l) {
//             a = a.trim(), clearTimeout(e), t && t.abort(), a = encodeURIComponent(a), e = setTimeout(function() {
//                 var e = Static.rootGate();
//                 r = [], t = $.get(e + "search/searchhotel?keyword=" + a, function(e) {
//                     for (var t = 0; t < e.length; t++) 1 == e[t].type ? r.push({
//                         Type: e[t].type,
//                         Name: e[t].hotelName,
//                         HotelId: e[t].hotelId,
//                         ComboTitle: e[t].comboTitle,
//                         Link: e[t].hotelUrl,
//                         inLand: e[t].inLand
//                     }) : r.push({
//                         Type: e[t].type,
//                         Name: e[t].regionName,
//                         RegionId: e[t].regionId,
//                         Link: e[t].regionUrl,
//                         Count: e[t].totalHotels,
//                         inLand: e[t].inLand
//                     });
//                     1 == e.length ? (HotelName = e[0].hotelName, SearchType = e[0].type, Url = e[0].hotelUrl, Count = e[0].Count, void 0 != e[0].Checkin && e[0].Checkin, query = e[0].hotelUrl) : HotelName = void 0;
//                     var a = $.grep(r, function(e, t) {
//                             return 1 == e.inLand
//                         })[0],
//                         i = $.grep(r, function(e, t) {
//                             return 0 == e.inLand
//                         })[0];
//                     a && (a.hasHeaderInBound = !0), i && (i.hasHeaderOutBound = !0), l(r)
//                 })
//             }, 50)
//         },
//         limit: "Infinity",
//         templates: {
//             suggestion: function(e) {
//                 var t, a = "";
//                 return e.hasHeaderInBound && (a = '<div class="head-search-typeahead head-title-inbound">Nội địa</div>'), e.hasHeaderOutBound && (a = '<div class="head-search-typeahead head-title-outbound">Quốc tế</div>'), t = 1 == e.Type && null != e.ComboTitle && "" != e.ComboTitle ? '<div class="col-xs-12 no-padding search-result region">                                <div class="pull-left search-result__content">                                    <i class="ivvcon-hotel search-result__icon"></i>' + e.Name + '                                </div>                                <div class="pull-right ">                                        <span class="label label-danger"><i class="vicon vicon-deal-gift-card"></i> ' + e.ComboTitle + '</span>                                </div> <div class="clearfix"></div>                                  </div>' : 1 == e.Type ? '<div class="col-xs-12 no-padding search-result region">                                <div class="pull-left search-result__content">                                    <i class="ivvcon-hotel search-result__icon"></i>' + e.Name + '                                </div>                                 <div class="clearfix"></div>                                  </div>' : '<div class="col-xs-12 no-padding search-result region">                        <div class="pull-left search-result__content"><i class="icon-ic_ivivu_user_location search-result__icon  hidden-xs"></i><i class="icon-ic_ivivu_user_location visible-xs"></i>' + e.Name + '</div>                        <div class="pull-right search-result__description">' + e.Count + ' kh\xe1ch sạn</div>                        <div class="clearfix"></div>                    </div>', "" != a && (t = `<div class="has-title">${a}${t}<div class="clearfix"></div></div>`), t
//             }
//         }
//     }).on({
//         "typeahead:selected": function(e, t) {
//             $(e.currentTarget).parent().find(".tt-menu").removeClass("display-important"), 1 == t.Type ? HotelId = t.HotelId : 2 == t.Type && (RegionId = t.RegionId), HotelName = t.Name, SearchType = t.Type, Url = t.Link, Count = t.Count, void 0 != t.Checkin && t.Checkin, query = t.Link, $(".hotel-modal-fullframe.in").length > 0 && $(".hotel-modal-fullframe").modal("hide")
//         },
//         "typeahead:autocompleted": function(e, t) {},
//         "typeahead:render": function(e, t, a, i) {},
//         "typeahead:open": function(e, t) {},
//         keyup: function(e) {
//             $(e.currentTarget).val().trim() || $(e.currentTarget).parent().find(".tt-menu").removeClass("display-important")
//         },
//         keypress: function(e, t) {
//             if ($(e.currentTarget).val() && $(e.currentTarget).parent().find(".tt-menu").addClass("display-important"), 13 === e.keyCode) return $(".hotel-modal-fullframe.in").length > 0 ? $(".hotel-modal-fullframe").modal("hide") : $(".search-form-button").trigger("click"), !1
//         }
//     }), $(".search-form").on("click", ".close-popup-autocomplete", function() {
//         $(".search-form .typeahead").typeahead("close")
//     })
// });
// 1